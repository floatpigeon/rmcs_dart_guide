## 镖架引导火控流程 2025.5.21

* 开门之前：镖架会自己把pitch角度控到默认位置或者下一次打击的设定值，并且上膛一发飞镖

* 舱门开启：雷达检测到远处目标点云，此时发布dart_guide_enable = true

* 对位：启动相机线程->识别器找出引导灯初始位置->跟踪器启动调整镖架yaw轴

    * 识别器有70hz，跟踪器有150hz（NUC8）

* 测距：分区赛前没点出来，计划赛前用烧饼建图的点云处理一下，场上可能不用，但是会录点云数据回来

    * 纯激光雷达：livox非重复扫描算法+目标反射率小导致返回的点云信息不足

    * 相机雷达融合测距：标定困难，精度达不到要求，不大能用

以上步骤需要在8s内完成

loop：

* 修正：单发校准，每一发都会有自己的修正值，让它们能共用一张射表

* 上膛：和单发校准是同时进行的，让滑块下行到底部（单发校准和上膛有2s的时间）

* 开火：开启摩擦轮，锁住角度（防止振动导致imu飘了），滑块上行，发射飞镖（需要3s）

 总耗时分配： 对位5s，测距4s，开火2*3s，上膛与修正2s,预留3s

